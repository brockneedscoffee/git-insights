language: python
python:
- 3.8
services:
- docker
env:
- DOCKER_PYTHON_VERSION=3.8
install:
- docker build --build-arg PYTHON_VERSION="${DOCKER_PYTHON_VERSION}" -t "gitinsights-${DOCKER_PYTHON_VERSION}"
  .
script:
- export CODE_COV=`bash <(curl -s https://codecov.io/env)`
- docker run $CODE_COV "gitinsights-${DOCKER_PYTHON_VERSION}"
deploy:
  skip_existing: true
  provider: pypi
  distributions: sdist bdist_wheel
  on:
    tags: true
  password:
    secure: tuzAH2aYnbc9RwLWXZdug5cAGK3Xj+ICklRW7HEme6O7XboXbYQ6Rz7StsqTLU9t11M2H2HALjPUIvDop/dlC1rzZi3yLPg+XsgNDiw5QhKsC5qP3xvvQjs2SSq6aOmMv7WRzryeEyICbrDZemd8/YBjVwi7dhiihi7pXfweDY0TU0l9CQ4h7dT90WfxwUpdBRydgpLumVsSC+fxHRHb/OXazSrav79tvLkFNNABc0WO3HdW5jQFLuJjUxBVkV2vGet0Pjcjsx8+iz2JM0NyaD3p5Mvsqs2aihlqidhtrG9AUfKeU6efpoNrcfbdAIomfJ5WkLdEFrkvKmlTNINePnb1AiEc1/eGYNVFbYkv08d8rZ8IfxwWm7bHBIA1u7EMh8U8LTMbUJmsJ6w784eemer70Cq9ORXypVhTnYoYgiZc6UkVqCYOFq9rt+vT3exZBHHKGKM6G1cFyMVwjQ1sf1vt/scmf1QZTAvsJ3d9t7npky0Y5lFOGv6H7ht4pxxMiKUMd0e1eX+svXCGPPYHHZEzSxHkFy0hrb+JEL6URwbyf275YuKTCCGLEC2lk4/820uzuO1mLoOU9596rjGKxmAWlaaRY5vzE/AdOuCAmicUIHpQQjF84UV6HyGUsN9csaMaea621Irtr/NT+GcS9Bt5cq0Qmdwx6kl+DzzpOeo=
  user: erikschlegel
deply-password:
  secure: Kwh9GV9mi19wSAaeP64MU955BHZDh820QXeYZ/W4kaguEg0uN19Lj43WhAU8D//673BGUiz33GTGpF5Xc7UP9XM26wmE55fAxKubN2GTR8ZaWPA73V5vneJHpKuHm+HSsDF35FmLUCEihcCIFV9MbQ2bpccT+s6eHzXL0mSGnxu7Gk1ecBeJ+sPuVtv66MQVbEBZK643rxCNjoUVIJYx8dOrgjjSnVIf5pKiDskHaq9R2gWQzX2uAIhOKnsPvvSUFb+mt0DlkwdL0K7ih+e663f4tPF99QOUPujreDk9L80VoPFNI2yZVv9PoC2cQ9Cr+pawTtgGmxVd5HMihNAAdQ+x1HCc4yPLj5VNPAQV01clQt2YC/vE12qYpF8Zy5MJSakq/3QDrlbdUeQpD6cxKbbErrri4bEt9hLTIs4lHn/Wmwzc9Ymi2fEu4yBfG5tDKUo+ETcTSwz+Js7BmpBBmreJAWX8vKuxAbcTxFzTalM0QOrn9+jEADPPp9G4J4aIysiIEa5uEy6WCHvhDjGF5xDBqWMJ0CHTMWtv4WyhtdbNDEzL/6P7DFMDfmmkz03WxcRrUhkfiG5oEoh53S0+Iw3ZMxMZXtxuwPjseW+duuC+TDD9kRl9I0jvn1znuPERnBOY71YnYyl6q/nTKOYatLb10VIGfwKduojXXd9pn0o=
